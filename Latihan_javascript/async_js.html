<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>async.javascript</title>
  </head>
  <body>
    <script>
      // function downloadFile(url, callback) {
      //   console.log(`📥 Mulai download dari ${url}`);
      //   setTimeout(() => {
      //     const data = '💾 Data berhasil diunduh!';
      //     console.log(`✅ Download selesai dari ${url}`);
      //     callback(data); // panggil callback dengan data hasil download
      //   }, 3000);
      // }

      // function showData(hasil) {
      //   console.log('📡 Data sudah diterima:', hasil);
      // }

      // // panggil fungsi utama
      // downloadFile('https://example.com/file.zip', showData);

      /////////////////////////////////////////////////////////////////////////////////////

      // function download(url, callback) {
      //   console.log('mohon tunggu data sedang di unduh !!!!');
      //   setTimeout(() => {
      //     const data = 'data berhasil di unduh !!!';
      //     console.log(`ini dia datanya, data sedang di proses ${url}`);
      //     callback(data);
      //   }, 3000);
      // }
      // function fullData(hasil) {
      //   console.log(`data sudah di terima`, hasil);
      // }
      // download(`https://www.google.com`, fullData);

      //////////////////////////////////////////////////////////////////////////////////

      // function getUserData(data) {
      //   return new Promise((resolve, reject) => {
      //     console.log('mengambil data siswa');
      //     setTimeout(() => {
      //       const success = true;
      //       if (success) {
      //         resolve('data siswa sudah di terima');
      //       } else {
      //         reject('data gagal di unduh');
      //       }
      //     }, 2000);
      //   });
      // }

      // getUserData({ name: 'Danny', age: 21 })
      //   .then((result) => {
      //     console.log(result);
      //     return 'file sedang di unduh';
      //   })
      //   .then((processMsg) => {
      //     console.log(processMsg);
      //     return 'data berhasil di simpan di database';
      //   })
      //   .then((finalMsg) => {
      //     console.log(finalMsg);
      //   })
      //   .catch((error) => {
      //     console.log(error);
      //   });

      /////////////////////////////////////////////////////////////////

      // function userData(data) {
      //   return new Promise((resolve, reject) => {
      //     console.log('data sedang di unduh...!!');
      //     setTimeout(() => {
      //       const success = true;
      //       if (success) {
      //         resolve('data berhasil di ambil');
      //       } else {
      //         reject('data gagal di unduh');
      //       }
      //     }, 2000);
      //   });
      // }

      // async function main() {
      //   try {
      //     const siswa = await userData();
      //     console.log(siswa);

      //     const proses = 'memproses file siswa';
      //     console.log(proses);

      //     const simpan = 'simpan data siswa';
      //     console.log(simpan);
      //   } catch (error) {
      //     console.log(error);
      //   }
      // }
      // main();

      // function downloadFile(namaFile, waktu) {
      //   return new Promise((resolve, reject) => {
      //     console.log(`Mulai mengunduh file ${namaFile}...!!`);
      //     setTimeout(() => {
      //       const success = Math.random() > 0.1;
      //       if (success) {
      //         resolve('Selamat data berhasil di simpan');
      //       } else {
      //         reject('data gagal di unduh');
      //       }
      //     }, waktu);
      //   });
      // }

      // async function mainData() {
      //   try {
      //     const data = await Promise.all([downloadFile(' data.jpeg', 2000), downloadFile(' data penduduk', 3000), downloadFile('data siswa', 1000)]);
      //     console.log('semua file berhasil di unduh');
      //     console.log(data);
      //   } catch (error) {
      //     console.log('ada file yang gagal', error);
      //   }
      // }
      // mainData();

      //////////////////////////////////////////////////////////////////////

      // async function getData() {
      //   try {
      //     const response = await fetch('https://jsonplaceholder.typicode.com/posts');
      //     const data = await response.json();
      //     console.log('data sedang di ambil', data);
      //   } catch (error) {
      //     console.log('maaf terjadi error', error);
      //   }
      // }
      // getData();

      ////////////////////////////////////////////////////////////////////////

      // async function sendData() {
      //   try {
      //     const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
      //       method: 'POST',
      //       headers: { 'Content-Type': 'application/json' },

      //       body: JSON.stringify({
      //         title: 'belajar javascript async',
      //         body: 'ini adalah data latihan menggunakan fetch API',
      //         userId: 1,
      //       }),
      //     });
      //     const result = await response.json();
      //     console.log('data berhasil di kirim', result);
      //   } catch (error) {
      //     console.log('data tidak dapat di unduh', error);
      //   }
      // }

      // sendData();

      ////////////////////////////////////////////////

      // async function getData() {
      //   try {
      //     const response = await fetch('https://jsonplaceholder.typicode.com/posts');
      //     const data = await response.json();
      //     console.log('data sedang di ambil', data);
      //   } catch (error) {
      //     console.log('data tidak dapat di ambil', error);
      //   }
      // }
      // getData();

      ///////////////////////////////////////////////////////////////////

      // async function sendData() {
      //   try {
      //     const response = await fetch('https://jsonplaceholder.typicode.com/posts', {
      //       method: 'POST',
      //       headers: { 'Content-Type': 'application/json' },

      //       body: JSON.stringify({
      //         title: 'belajar javascript',
      //         body: 'ini adalah data latihan menggunkan fetch API',
      //         userId: 1,
      //       }),
      //     });
      //     const result = await response.json();
      //     console.log('data berhasi; di kirim', result);
      //   } catch (error) {
      //     console.log('data gagal di kirim', error);
      //   }
      // }
      // sendData();

      ///////////////////////////////////////////////////////////////////////

      // async function sequentialFlow() {
      //   console.log('Mulai...');
      //   const user = await fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json());
      //   console.log('User selesai:', user.name);

      //   const posts = await fetch('https://jsonplaceholder.typicode.com/posts?userId=1').then((r) => r.json());
      //   console.log('Post selesai:', posts.length);

      //   const comments = await fetch('https://jsonplaceholder.typicode.com/comments?postId=1').then((r) => r.json());
      //   console.log('Komentar selesai:', comments.length);

      //   console.log('Semua proses selesai ✅');
      // }

      // sequentialFlow();

      // async function parallelFlow() {
      //   console.log('Mulai mengambil semua data...');

      //   const [user, posts, comments] = await Promise.all([
      //     fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json()),
      //     fetch('https://jsonplaceholder.typicode.com/posts?userId=1').then((r) => r.json()),
      //     fetch('https://jsonplaceholder.typicode.com/comments?postId=1').then((r) => r.json()),
      //   ]);

      //   console.log('User:', user.name);
      //   console.log('Post:', posts.length);
      //   console.log('Komentar:', comments.length);
      //   console.log('Semua data berhasil diambil ✅');
      // }

      // parallelFlow();

      // async function allSettledExample() {
      //   const results = await Promise.allSettled([
      //     fetch('https://jsonplaceholder.typicode.com/posts/1').then((r) => r.json()),
      //     fetch('https://jsonplaceholder.typicode.com/error').then((r) => r.json()), // URL salah
      //   ]);

      //   console.log(results);
      // }

      // allSettledExample();

      // async function sequentialFlow() {
      //   console.log('mulai...!!');
      //   const user = await fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json());
      //   console.log('nama user', user.name);

      //   const posts = await fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json());
      //   console.log('data sedang di kirim', posts.length);

      //   const comments = await fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json());
      //   console.log('ini adalah kometar', comments.length);

      //   console.log('semua tindakan sudah selesai');
      // }
      // sequentialFlow();

      /////////////////////////////////////////////////////////////////////////////////

      // async function getALlData() {
      //   console.log('ayo mulai');
      //   try {
      //     const [user, posts, comments] = await Promise.all([
      //       fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json()),
      //       fetch('https://jsonplaceholder.typicode.com/posts?userId=1').then((r) => r.json()),
      //       fetch('https://jsonplaceholder.typicode.com/comments?postId=1').then((r) => r.json()),
      //     ]);
      //     console.log('user', user.name);
      //     console.log('postingan: hallo naam saya andika pratama ', posts.length);
      //     console.log('comment:', comments.length);
      //     console.log('semua data berhasil di ambil');
      //   } catch (error) {
      //     console.log('maaf error', error);
      //   }
      // }
      // getALlData();

      ////////////////////////////////////////////////////////////////////////

      // async function getAllData() {
      //   try {
      //     const result = await Promise.allSettled([
      //       fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json()),
      //       fetch('https://jsonplaceholder.typicode.com/posts?userId=1').then((r) => r.json()),
      //       fetch('https://jsonplaceholder.typicode.com/comments?postId=1').then((r) => r.json()),
      //     ]);

      //     // 🧠 Perbaikan: tanda kurung dan ejaan harus benar
      //     result.forEach((res, index) => {
      //       if (res.status === 'fulfilled') {
      //         // ejaan yang benar: fulfilled (bukan "fulfiled")
      //         console.log(`✅ Promise ${index + 1} berhasil:`, res.value);
      //       } else {
      //         console.log(`❌ Promise ${index + 1} gagal:`, res.reason);
      //       }
      //     });

      //     console.log('🎉 Semua proses Promise sudah selesai (berhasil atau gagal).');
      //   } catch (error) {
      //     console.log('❌ Gagal total:', error);
      //   }
      // }

      // getAllData();

      //////////////////////////////////////////////////////////

      // async function getALlData() {
      //   try {
      //     const result = await Promise.allSettled([
      //       fetch('https://jsonplaceholder.typicode.com/users/1').then((r) => r.json()),
      //       fetch('https://jsonplaceholder.typicode.com/posts?userId=1').then((r) => r.json()),
      //       fetch('https://jsonplaceholder.typicode.com/comments?postId=1').then((r) => r.json()),
      //     ]);
      //     result.forEach((res, index) => {
      //       if (res.status === 'fulfilled') {
      //         console.log(`Promise ${index + 1} berhasil :`, res.value);
      //       } else {
      //         console.log(`Promise ${index + 1} gagal :`, res.reason);
      //       }
      //     });
      //     console.log('🎉 Semua proses Promise sudah selesai (berhasil atau gagal).');
      //   } catch (error) {
      //     console.log('maaf error', error);
      //   }
      // }
      // getALlData();
    </script>
  </body>
</html>
